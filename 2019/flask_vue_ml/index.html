<!DOCTYPE html>
<html lang="zh-CN">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="è°·ç²’">
  <meta name="description" content="æ•°æ®æŒ–æ˜/æœºå™¨å­¦ä¹ å·¥ç¨‹å¸ˆ">
  <meta name="keywords" content="åä¸­ç§‘æŠ€å¤§å­¦,è°·ç²’,æ•°æ®æŒ–æ˜,ç½‘æ˜“æ¸¸æˆ,ç”¨æˆ·åˆ†æ,å¢é•¿é»‘å®¢,å¼€å‘è€…,æå®¢,ä»£ç ,å¼€æº,Developer,Programmer,Coder,Geek,DataScientist">
  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-76017508-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

  <link rel="prev" href="https://kuhungio.me/2019/vgc-it/" />
  <link rel="next" href="https://kuhungio.me/2019/training_rl_systems_hacks/" />
  <link rel="canonical" href="https://kuhungio.me/2019/flask_vue_ml/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           æœºå™¨å­¦ä¹ å»ºæ¨¡ä¸éƒ¨ç½²--ä»¥åƒåœ¾æ¶ˆæ¯è¯†åˆ«ä¸ºä¾‹ | Kuhung&#39;s Blog
       
  </title>
  <meta name="title" content="æœºå™¨å­¦ä¹ å»ºæ¨¡ä¸éƒ¨ç½²--ä»¥åƒåœ¾æ¶ˆæ¯è¯†åˆ«ä¸ºä¾‹ | Kuhung&#39;s Blog">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https://kuhungio.me"
    },
    "articleSection" : "posts",
    "name" : "æœºå™¨å­¦ä¹ å»ºæ¨¡ä¸éƒ¨ç½²--ä»¥åƒåœ¾æ¶ˆæ¯è¯†åˆ«ä¸ºä¾‹",
    "headline" : "æœºå™¨å­¦ä¹ å»ºæ¨¡ä¸éƒ¨ç½²--ä»¥åƒåœ¾æ¶ˆæ¯è¯†åˆ«ä¸ºä¾‹",
    "description" : "å‰è¨€ å­¦å†ä¸å®šä½ è¿‘æ—¥åœ¨æŸè®ºå›ï¼Œæœ‰ç½‘å‹æé—®é“ï¼šææœºå™¨å­¦ä¹ æ˜¯ä¸æ˜¯è¦åšå£«æˆ–æ˜¯ç¡•å£«å­¦å†ï¼Œæ˜¯ä¸æ˜¯è¦æ±‚å¾ˆé«˜ï¼Œé¡¶ä¼šè®ºæ–‡ï¼Ÿæœ¬ç§‘ç”Ÿæˆ–è€…æ›´ä½å­¦å†çš„ï¼Œæ˜¯ä¸æ˜¯å°±æ²¡æœ‰æœºä¼šäº†ï¼Ÿä»æœ€è¿‘å…¬å¸çš„æ‹›è˜æ¥çœ‹ï¼Œç®—æ³•å·¥ç¨‹å¸ˆçš„ bar ç¡®å®æœ‰åœ¨æé«˜ã€‚ä½†åœ¨æŸäº›äº‹ä¸šéƒ¨ï¼Œä»éœ€è¦å¾ˆå¤§çš„äººåŠ›æ¥åšè½åœ°åœºæ™¯ã€‚æ¯ä¸ªäººéƒ½è¦æ‰¾å‡†è‡ªå·±çš„å®šä½ï¼Œå…¬å¸ä¹Ÿæœ‰å®ƒçš„éƒ¨é—¨å®šä½ã€‚
å¦‚æœæ˜¯å‘è®ºæ–‡ã€è¦åœ¨å­¦æœ¯ç•Œç«™ç¨³è„šè·Ÿï¼Œç»™æŠ•èµ„äººâ€œæˆ‘ä»¬å¾ˆé‡è§†æœ€æ–°æŠ€æœ¯â€çš„ä¿¡å¿ƒï¼Œé‚£åšå£«ç¡®å®å¾ˆé‡è¦ã€‚å¦ä¸€ä¸ªè§’åº¦ï¼Œä»å®ç”¨è§’åº¦æ¥è¯´ï¼Œç ”ç©¶ç”Ÿå’Œæœ¬ç§‘ç”Ÿå¯èƒ½æ€§ä»·æ¯”æ›´é«˜ã€‚å½“ç„¶ï¼Œä½œä¸ºä¸€ä¸ªæœ¬ç§‘å°±ä¸šçš„äººï¼Œå¦‚æœæ²¡æœ‰è¾ƒä¸ºä¸°å¯Œçš„å®æˆ˜ç»éªŒï¼›æœ‰æœºä¼šçš„è¯ï¼Œè¿˜æ˜¯æ‹¿åˆ°ç¡•å£«åŠæ›´é«˜å­¦å†æ¯”è¾ƒå¥½ã€‚è¿™é‡Œçš„å®æˆ˜ç»éªŒå°±æ¯”å¦‚ï¼šæ­å»ºä¸€ä¸ªå®Œæ•´çš„ã€æ¶‰åŠç®—æ³•æ¨¡å‹ã€åç«¯åŠå‰ç«¯çš„ç³»ç»Ÿã€‚
æ¨¡å‹ç®—æ³•çš„å®ç”¨ä¸»ä¹‰ æœºå™¨å­¦ä¹ çš„å®ç”¨ä¸»ä¹‰ï¼Œä¸æ˜¯åœ¨è®ºæ–‡å¤šå°‘ï¼Œè€Œæ˜¯ç”¨æ­£ç¡®çš„æ–¹æ³•å»è§£å†³æ­£ç¡®çš„é—®é¢˜ã€‚è€Œä½œä¸ºèƒŒåçš„å·¥ç¨‹å¸ˆï¼Œé™¤äº†è°ƒå‚ã€é™¤äº†å†™ sqlï¼Œåšè°ƒåŒ…ä¾ ã€åš sql boyã€æŠ¥è¡¨ boy ä»¥å¤–ï¼Œåœ¨ä¹‹å‰çš„æ–‡ç« ä¹Ÿæåˆ°è¿‡ï¼Œè¦å­¦ä¼šåšæ­£ç¡®çš„å±•ç¤ºï¼Œåšå…¨å¥—çš„å·¥ç¨‹åŒ–å®æ–½ã€‚æ¯•ç«Ÿï¼Œç­‰æ’æœŸå¾ˆéš¾å—ï¼›æœ‰äº›æƒ…å†µå‰åç«¯èµ„æºä¸å¤Ÿï¼Œæˆ–è€…ä¼˜å…ˆçº§å¾ˆä½ï¼Œé‚£å°±éœ€è¦è‡ªå·±åŠ¨æ‰‹äº†ã€‚ä»¥ä¸‹ä»¥ä¸Šé¢çš„åƒåœ¾é‚®ä»¶åˆ†ç±»ä¸ºä¾‹å­ï¼Œè¯´æ˜è¯¥å¦‚ä½•æ­å»ºä¸€ä¸ªå‰åç«¯å®Œæ•´çš„æœºå™¨å­¦ä¹ ç³»ç»Ÿã€‚
è¿™é‡Œå°†æœ¬æ¬¡çš„ä»»åŠ¡æ‹†è§£ï¼Œåˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†æ¥è®²ã€‚åç«¯ flaskã€å‰ç«¯ Vueã€ML æ¨¡å‹é‡‡ç”¨ flairï¼Œé¡¹ç›®åœ°å€ kuhung/flask_vue_ML
åç«¯ flask ç›¸å…³ä¾èµ–çš„å®‰è£… pip install -r requirements.txt
æ ¸å¿ƒå‡½æ•°  å¯¼å…¥å‡½æ•°åŒ…  from flask import Flask, jsonify, request from flask_cors import CORS # åšè·¨åŸŸçš„å‡†å¤‡ from flask import session # è¿½è¸ªå®¢æˆ·ç«¯ä¼šè¯ from flair.models import TextClassifier # æ¨¡å‹å¯¼å…¥ï¼Œé‡‡ç”¨å‰ä¸ä¹…å¼€æºçš„ flair åšæ–‡æœ¬åˆ†ç±» from flair.data import Sentence   å‡†å¤‡å·¥ä½œ  app = Flask(__name__) # å£°æ˜å‡†å¤‡ app.",
    "inLanguage" : "zh-CN",
    "author" : "è°·ç²’",
    "creator" : "è°·ç²’",
    "publisher": "è°·ç²’",
    "accountablePerson" : "è°·ç²’",
    "copyrightHolder" : "è°·ç²’",
    "copyrightYear" : "2019",
    "datePublished": "2019-04-20 14:31:26 &#43;0800 CST",
    "dateModified" : "2019-04-20 14:31:26 &#43;0800 CST",
    "url" : "https://kuhungio.me/2019/flask_vue_ml/",
    "wordCount" : "542",
    "keywords" : [ "å…¨æ ˆ","æœºå™¨å­¦ä¹ è¿›é˜¶","app", "Kuhung&#39;s Blog"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://kuhungio.me">Kuhung&#39;s Blog</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/app/" title="">App</a>
                
                <a class="menu-item" href="/about/" title="About">About</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://kuhungio.me">Kuhung&#39;s Blog</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/app/" title="">App</a>
                
                <a class="menu-item" href="/about/" title="About">About</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">æœºå™¨å­¦ä¹ å»ºæ¨¡ä¸éƒ¨ç½²--ä»¥åƒåœ¾æ¶ˆæ¯è¯†åˆ«ä¸ºä¾‹</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://kuhungio.me" rel="author">è°·ç²’</a> with â™¥
                <span class="post-time">
                on <time datetime=2019-04-20 itemprop="datePublished">April 20, 2019</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://kuhungio.me/categories/side-project/"> Side Project </a>
                        <a href="https://kuhungio.me/categories/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98-%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"> æ•°æ®æŒ–æ˜/æœºå™¨å­¦ä¹  </a>
                        
                </span>

                |
                <a href="#gitalk-container" itemprop="discussionUrl">
                    <span class="gitalk-comment-count" itemprop="commentCount"></span>
                </a>
                æ¡è¯„è®º
        </div>
    </header>

        <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title"></h2>
  
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#å‰è¨€">å‰è¨€</a>
<ul>
<li><a href="#å­¦å†ä¸å®šä½">å­¦å†ä¸å®šä½</a></li>
<li><a href="#æ¨¡å‹ç®—æ³•çš„å®ç”¨ä¸»ä¹‰">æ¨¡å‹ç®—æ³•çš„å®ç”¨ä¸»ä¹‰</a></li>
</ul></li>
<li><a href="#åç«¯-flask">åç«¯ flask</a>
<ul>
<li><a href="#ç›¸å…³ä¾èµ–çš„å®‰è£…">ç›¸å…³ä¾èµ–çš„å®‰è£…</a></li>
<li><a href="#æ ¸å¿ƒå‡½æ•°">æ ¸å¿ƒå‡½æ•°</a></li>
<li><a href="#å¯åŠ¨æœåŠ¡">å¯åŠ¨æœåŠ¡</a></li>
</ul></li>
<li><a href="#å‰ç«¯-vue">å‰ç«¯ vue</a>
<ul>
<li><a href="#ç›¸å…³ä¾èµ–çš„å®‰è£…-1">ç›¸å…³ä¾èµ–çš„å®‰è£…</a></li>
<li><a href="#è‡ªå®šä¹‰ç»„ä»¶">è‡ªå®šä¹‰ç»„ä»¶</a>
<ul>
<li><a href="#index-html">index.html</a></li>
<li><a href="#src-æ–‡ä»¶å¤¹">src æ–‡ä»¶å¤¹</a>
<ul>
<li><a href="#index-js">index.js</a></li>
<li><a href="#app-vue">App.vue</a></li>
<li><a href="#main-js">main.js</a></li>
</ul></li>
</ul></li>
<li><a href="#å¯åŠ¨æœåŠ¡-1">å¯åŠ¨æœåŠ¡</a></li>
</ul></li>
<li><a href="#æ¨¡å‹-flair">æ¨¡å‹ flair</a>
<ul>
<li><a href="#æ¨¡å‹è°ƒç”¨">æ¨¡å‹è°ƒç”¨</a></li>
</ul></li>
<li><a href="#æ•ˆæœå±•ç¤º">æ•ˆæœå±•ç¤º</a>
<ul>
<li><a href="#ç»ˆç«¯ç«¯ç½‘ç«™è®¿é—®">ç»ˆç«¯ç«¯ç½‘ç«™è®¿é—®</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
  </div>
</div>

<script type="text/javascript">
  window.onload = function () {
    var fix = $('.post-toc');
    var end = $('.post-comment');
    var fixTop = fix.offset().top, fixHeight = fix.height();
    var endTop, miss;
    var offsetTop = fix[0].offsetTop;

    $(window).scroll(function () {
      var docTop = Math.max(document.body.scrollTop, document.documentElement.scrollTop);

      if (end.length > 0) {
        endTop = end.offset().top;
        miss = endTop - docTop - fixHeight;
      }

      if (fixTop < docTop) {
        fix.css({ 'position': 'fixed' });
        if ((end.length > 0) && (endTop < (docTop + fixHeight))) {
          fix.css({ top: miss });
        } else {
          fix.css({ top: 0 });
        }
      } else {
        fix.css({ 'position': 'absolute' });
        fix.css({ top: offsetTop });
      }
    })
  }
</script>

    <div class="post-content">
        

        
            
        

        
        

          
          
          

          
          
          

          

<h2 id="å‰è¨€">å‰è¨€</h2>

<h3 id="å­¦å†ä¸å®šä½">å­¦å†ä¸å®šä½</h3>

<p>è¿‘æ—¥åœ¨æŸè®ºå›ï¼Œæœ‰ç½‘å‹æé—®é“ï¼šææœºå™¨å­¦ä¹ æ˜¯ä¸æ˜¯è¦åšå£«æˆ–æ˜¯ç¡•å£«å­¦å†ï¼Œæ˜¯ä¸æ˜¯è¦æ±‚å¾ˆé«˜ï¼Œé¡¶ä¼šè®ºæ–‡ï¼Ÿæœ¬ç§‘ç”Ÿæˆ–è€…æ›´ä½å­¦å†çš„ï¼Œæ˜¯ä¸æ˜¯å°±æ²¡æœ‰æœºä¼šäº†ï¼Ÿä»æœ€è¿‘å…¬å¸çš„æ‹›è˜æ¥çœ‹ï¼Œç®—æ³•å·¥ç¨‹å¸ˆçš„ bar ç¡®å®æœ‰åœ¨æé«˜ã€‚ä½†åœ¨æŸäº›äº‹ä¸šéƒ¨ï¼Œä»éœ€è¦å¾ˆå¤§çš„äººåŠ›æ¥åšè½åœ°åœºæ™¯ã€‚æ¯ä¸ªäººéƒ½è¦æ‰¾å‡†è‡ªå·±çš„å®šä½ï¼Œå…¬å¸ä¹Ÿæœ‰å®ƒçš„éƒ¨é—¨å®šä½ã€‚</p>

<p>å¦‚æœæ˜¯å‘è®ºæ–‡ã€è¦åœ¨å­¦æœ¯ç•Œç«™ç¨³è„šè·Ÿï¼Œç»™æŠ•èµ„äººâ€œæˆ‘ä»¬å¾ˆé‡è§†æœ€æ–°æŠ€æœ¯â€çš„ä¿¡å¿ƒï¼Œé‚£åšå£«ç¡®å®å¾ˆé‡è¦ã€‚å¦ä¸€ä¸ªè§’åº¦ï¼Œä»å®ç”¨è§’åº¦æ¥è¯´ï¼Œç ”ç©¶ç”Ÿå’Œæœ¬ç§‘ç”Ÿå¯èƒ½æ€§ä»·æ¯”æ›´é«˜ã€‚å½“ç„¶ï¼Œä½œä¸ºä¸€ä¸ªæœ¬ç§‘å°±ä¸šçš„äººï¼Œå¦‚æœæ²¡æœ‰è¾ƒä¸ºä¸°å¯Œçš„å®æˆ˜ç»éªŒï¼›æœ‰æœºä¼šçš„è¯ï¼Œè¿˜æ˜¯æ‹¿åˆ°ç¡•å£«åŠæ›´é«˜å­¦å†æ¯”è¾ƒå¥½ã€‚è¿™é‡Œçš„å®æˆ˜ç»éªŒå°±æ¯”å¦‚ï¼šæ­å»ºä¸€ä¸ªå®Œæ•´çš„ã€æ¶‰åŠç®—æ³•æ¨¡å‹ã€åç«¯åŠå‰ç«¯çš„ç³»ç»Ÿã€‚</p>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="/images/flask_vue_ML/mobile.jpg" alt="" class="lazyload"><figcaption class="image-caption"></figcaption></figure></p>

<h3 id="æ¨¡å‹ç®—æ³•çš„å®ç”¨ä¸»ä¹‰">æ¨¡å‹ç®—æ³•çš„å®ç”¨ä¸»ä¹‰</h3>

<p>æœºå™¨å­¦ä¹ çš„å®ç”¨ä¸»ä¹‰ï¼Œä¸æ˜¯åœ¨è®ºæ–‡å¤šå°‘ï¼Œè€Œæ˜¯ç”¨æ­£ç¡®çš„æ–¹æ³•å»è§£å†³æ­£ç¡®çš„é—®é¢˜ã€‚è€Œä½œä¸ºèƒŒåçš„å·¥ç¨‹å¸ˆï¼Œé™¤äº†è°ƒå‚ã€é™¤äº†å†™ sqlï¼Œåšè°ƒåŒ…ä¾ ã€åš sql boyã€æŠ¥è¡¨ boy ä»¥å¤–ï¼Œåœ¨ä¹‹å‰çš„æ–‡ç« ä¹Ÿæåˆ°è¿‡ï¼Œè¦å­¦ä¼šåšæ­£ç¡®çš„å±•ç¤ºï¼Œåšå…¨å¥—çš„å·¥ç¨‹åŒ–å®æ–½ã€‚æ¯•ç«Ÿï¼Œç­‰æ’æœŸå¾ˆéš¾å—ï¼›æœ‰äº›æƒ…å†µå‰åç«¯èµ„æºä¸å¤Ÿï¼Œæˆ–è€…ä¼˜å…ˆçº§å¾ˆä½ï¼Œé‚£å°±éœ€è¦è‡ªå·±åŠ¨æ‰‹äº†ã€‚ä»¥ä¸‹ä»¥ä¸Šé¢çš„åƒåœ¾é‚®ä»¶åˆ†ç±»ä¸ºä¾‹å­ï¼Œè¯´æ˜è¯¥å¦‚ä½•æ­å»ºä¸€ä¸ªå‰åç«¯å®Œæ•´çš„æœºå™¨å­¦ä¹ ç³»ç»Ÿã€‚</p>

<p>è¿™é‡Œå°†æœ¬æ¬¡çš„ä»»åŠ¡æ‹†è§£ï¼Œåˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†æ¥è®²ã€‚åç«¯ flaskã€å‰ç«¯ Vueã€ML æ¨¡å‹é‡‡ç”¨ flairï¼Œé¡¹ç›®åœ°å€ <a href="https://github.com/kuhung/flask_vue_ML" rel="nofollow noreferrer" target="_blank">kuhung/flask_vue_ML</a></p>

<h2 id="åç«¯-flask">åç«¯ flask</h2>

<h3 id="ç›¸å…³ä¾èµ–çš„å®‰è£…">ç›¸å…³ä¾èµ–çš„å®‰è£…</h3>

<p><code>pip install -r requirements.txt</code></p>

<h3 id="æ ¸å¿ƒå‡½æ•°">æ ¸å¿ƒå‡½æ•°</h3>

<ol>
<li>å¯¼å…¥å‡½æ•°åŒ…</li>
</ol>

<pre><code class="language-python">from flask import Flask, jsonify, request
from flask_cors import CORS # åšè·¨åŸŸçš„å‡†å¤‡
from flask import session # è¿½è¸ªå®¢æˆ·ç«¯ä¼šè¯

from flair.models import TextClassifier # æ¨¡å‹å¯¼å…¥ï¼Œé‡‡ç”¨å‰ä¸ä¹…å¼€æºçš„ flair åšæ–‡æœ¬åˆ†ç±»
from flair.data import Sentence

</code></pre>

<ol>
<li>å‡†å¤‡å·¥ä½œ</li>
</ol>

<pre><code class="language-python">app = Flask(__name__) # å£°æ˜å‡†å¤‡
app.secret_key = &quot;super_secret_key&quot;

CORS(app)
classifier = TextClassifier.load_from_file('models/best-model.pt') # æ¨¡å‹åŠ è½½

</code></pre>

<ol>
<li>é…ç½® flask çš„è·¯ç”±</li>
</ol>

<pre><code class="language-python"># æ ¹è·¯ç”±é…ç½®
@app.route('/', methods=['GET'])
def index():
    return jsonify(&quot;welcome to Kuhung API&quot;)

# GET æ–¹æ³•ï¼Œè¿™é‡Œ session çš„ä½œç”¨æ˜¯è¿½è¸ªå®¢æˆ·ç«¯ä¼šè¯ï¼Œé˜²æ­¢é‡å¤è¯·æ±‚æ¨¡å‹
@app.route('/api/tasks', methods=['GET'])
def get_result():
    result = []
    try:
        data_result = session['my_result']
        result.append ({'title': data_result['title'], 'tag': data_result['tag'] })
    except:
        result.append ({'title': 'The txt you input', 'tag': 'spam or ham' })
    return jsonify(result)

# POST æ–¹æ³•
@app.route('/api/task', methods=['POST'])
def input_predict_text():

    title = request.get_json()['title'] # è§£æè¯·æ±‚

    sentence = Sentence(title) # å¯¹è¯·æ±‚åšæ•°æ®é¢„å¤„ç†
    classifier.predict(sentence) # è°ƒç”¨æ¨¡å‹ï¼Œåšé¢„æµ‹ï¼Œè¿”å›å¸¦æ ‡ç­¾çš„æ•°æ®

    text = sentence.to_plain_string() # è§£æå‡ºåŸå§‹æ•°æ®
    label = sentence.labels[0] # è§£æå‡ºæ ‡ç­¾
    result = {'title' : text, 'tag' : label.value} # æ‹¼æ¥æˆå­—å…¸æ ¼å¼
    session['my_result'] = result # å­˜å…¥ session ï¼Œä»¥å‡å°‘é‡å¤è¯·æ±‚å¯¹æ¨¡å‹çš„å‹åŠ›
    
    return jsonify(result) # è¿”å› json æ ¼å¼çš„æ•°æ®

if __name__ == '__main__':
    app.run(debug=True)  # å¼€å‘è¿‡ç¨‹ä¸­å¼€å¯ debug è°ƒè¯•æ¨¡å¼
</code></pre>

<h3 id="å¯åŠ¨æœåŠ¡">å¯åŠ¨æœåŠ¡</h3>

<p><code>python app.py</code></p>

<h2 id="å‰ç«¯-vue">å‰ç«¯ vue</h2>

<p>å‰ç«¯é‡‡ç”¨ Vue æ¡†æ¶ï¼Œä¸åç«¯åˆ†ç¦»ã€‚ä½¿ç”¨ Webpack è¿›è¡Œèµ„æºç®¡ç†ä¸æ‰“åŒ…ã€‚</p>

<h3 id="ç›¸å…³ä¾èµ–çš„å®‰è£…-1">ç›¸å…³ä¾èµ–çš„å®‰è£…</h3>

<pre><code class="language-shell">npm install -g vue-cli
npm install
</code></pre>

<h3 id="è‡ªå®šä¹‰ç»„ä»¶">è‡ªå®šä¹‰ç»„ä»¶</h3>

<p>é€šè¿‡ <code>vue init webpack flask_vue_ML</code> åï¼Œè¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œå¢åŠ è‡ªå®šä¹‰å†…å®¹ã€‚</p>

<h4 id="index-html">index.html</h4>

<pre><code class="language-html">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0&quot;&gt;
    &lt;title&gt;exposemodel&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
    &lt;!-- å…¶å®ƒæ–‡ä»¶ä¼šè‡ªåŠ¨æ³¨å…¥è¿™é‡Œ --&gt;
  &lt;/body&gt;
&lt;/html&gt;

</code></pre>

<h4 id="src-æ–‡ä»¶å¤¹">src æ–‡ä»¶å¤¹</h4>

<ul>
<li>components

<ul>
<li>Home.vue  // è‡ªå®šä¹‰ç»„ä»¶ï¼Œå¢åŠ </li>
</ul></li>
<li>router

<ul>
<li>index.js  // è·¯ç”±ï¼Œä¿®æ”¹</li>
</ul></li>
<li>App.vue  // ä¸»ç»„ä»¶ï¼Œä¿®æ”¹</li>
<li>main.js  // å…¥å£æ–‡ä»¶ï¼Œä¿®æ”¹</li>
</ul>

<p>##### Home.vue</p>

<p>è¿™é‡Œå®šä¹‰é¡µé¢çš„åŸºæœ¬æ ·å¼ï¼Œä»¥åŠè·å–æ•°æ®çš„é€»è¾‘ã€‚</p>

<pre><code class="language-vue">&lt;template&gt;
  &lt;div id=&quot;todo-list-example&quot; class=&quot;container&quot;&gt;
    &lt;!-- æˆ‘æ˜¯è¿›åº¦æ¡ï¼Œæœ€ä¸Šæ–¹çš„ --&gt;
    &lt;vue-progress-bar&gt;&lt;/vue-progress-bar&gt;
    &lt;div class=&quot;row&quot;&gt;
      &lt;div class=&quot;col-md-6 mx-auto&quot;&gt;
        &lt;h1 class=&quot;text-center&quot;&gt;Natural Language Processing (NLP)&lt;/h1&gt;
        &lt;form v-on:submit.prevent=&quot;addNewTask&quot;&gt;
          &lt;label for=&quot;tasknameinput&quot;&gt;Spam Classification&lt;/label&gt;
          &lt;input v-model=&quot;taskname&quot; type=&quot;text&quot; id=&quot;tasknameinput&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Sentence&quot;&gt;
          &lt;button type=&quot;submit&quot; class=&quot;btn btn-success btn-block mt-3&quot;&gt;
            Submit
          &lt;/button&gt;
        &lt;/form&gt;
          
&lt;!-- çœç•¥è¡¨æ ¼å®šä¹‰å†…å®¹ --&gt;


&lt;script&gt;
// è¿™é‡Œè§£å†³è·¨åŸŸè¯·æ±‚é—®é¢˜ï¼Œå‘åç«¯å‘èµ·è¯·æ±‚
import axios from 'axios'

export default {
  data () {
    return {
      textClassify: [],
      id: '',
      taskname: '',
      isEdit: false
    }
  },
  mounted () {
    this.getTasks()
  },
    
// çœç•¥è¿›åº¦æ¡å†…å®¹
    
// è¯·æ±‚ä»»åŠ¡ç›¸å…³æ“ä½œ
    getTasks () {
      axios({ method: 'GET', url: '/api/tasks' }).then(
        result =&gt; {
          console.log(result.data)
          this.textClassify = result.data
        },
        error =&gt; {
          console.error(error)
        }
      )
    },
&lt;/script&gt;
â€‹```
</code></pre>

<h5 id="index-js">index.js</h5>

<p>å®šä¹‰è·¯ç”±ï¼Œè®¾å®šè®¿é—®è·¯å¾„ï¼Œå¹¶å°†è·¯å¾„å’Œç»„ä»¶å…³è”</p>

<pre><code class="language-js">import Vue from 'vue'
import Router from 'vue-router'
import Home from '@/components/Home'

Vue.use(Router)

export default new Router({
  routes: [
    {
      path: '/',
      name: 'Home',
      component: Home
    }
  ]
})
</code></pre>

<h5 id="app-vue">App.vue</h5>

<p>ä¸»ç»„ä»¶</p>

<pre><code class="language-vue">&lt;template&gt;
  &lt;div id=&quot;app&quot;&gt;
    &lt;router-view/&gt;
    &lt;!-- æ¤å…¥ä¸€æ³¢å¹¿å‘Šï¼šå¾®ä¿¡æœç´¢ï¼šè°·ç²’è¯´æ•°ï¼Œå…³æ³¨æˆ‘çš„å…¬ä¼—å· --&gt;
    &lt;img src=&quot;./assets/wechat.jpg&quot;&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
export default {
  name: 'App'
}
&lt;/script&gt;

&lt;style&gt;
#app {
  font-family: 'Avenir', Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}
&lt;/style&gt;
</code></pre>

<h5 id="main-js">main.js</h5>

<p>åˆå§‹åŒ–å®ä¾‹å¹¶åŠ è½½å¿…è¦æ’ä»¶</p>

<pre><code class="language-js">// The Vue build version to load with the `import` command
// (runtime-only or standalone) has been set in webpack.base.conf with an alias.
import Vue from 'vue'
import App from './App'
import router from './router'
import VueProgressBar from 'vue-progressbar'
require('../node_modules/bootstrap/dist/css/bootstrap.css')

Vue.config.productionTip = false

// è¿™æ˜¯è¿›åº¦æ¡
Vue.use(VueProgressBar, {
  color: 'rgb(143, 255, 199)',
  failedColor: 'red',
  height: '10px'
})

/* eslint-disable no-new */
new Vue({
  el: '#app',
  router,
  components: { App },
  template: '&lt;App/&gt;'
})

</code></pre>

<h3 id="å¯åŠ¨æœåŠ¡-1">å¯åŠ¨æœåŠ¡</h3>

<p><code>npm run dev</code></p>

<h2 id="æ¨¡å‹-flair">æ¨¡å‹ flair</h2>

<p>æ¨¡å‹è¿™é‡Œé‡‡ç”¨ fair æ¡†æ¶ï¼Œè¯¥æ¡†æ¶åœ¨ 2018 å¹´åº•å‘å¸ƒï¼Œæ˜“ç”¨æ€§å’Œæ•ˆæœéƒ½è¾ƒå‰æ–¹æ¡ˆæœ‰äº†è¾ƒå¤§æå‡ã€‚è¿™é‡Œç›´æ¥é‡‡ç”¨å®˜æ–¹æ ·ä¾‹è®­ç»ƒå¥½çš„åƒåœ¾é‚®ä»¶åˆ†ç±»æ¨¡å‹çš„æƒé‡ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸Šæ–‡åç«¯æ‰€è¯»å–çš„æ–‡ä»¶ã€‚å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šè°·ç²’è¯´æ•°ï¼Œå›å¤<strong>æƒé‡</strong>ï¼Œå³å¯è·å¾—æƒé‡æ–‡ä»¶ğŸ”—é“¾æ¥ã€‚</p>

<h3 id="æ¨¡å‹è°ƒç”¨">æ¨¡å‹è°ƒç”¨</h3>

<pre><code class="language-python">
from flair.models import TextClassifier # æ¨¡å‹å¯¼å…¥ï¼Œé‡‡ç”¨å‰ä¸ä¹…å¼€æºçš„ flair åšæ–‡æœ¬åˆ†ç±»
from flair.data import Sentence

classifier = TextClassifier.load_from_file('models/best-model.pt') # æ¨¡å‹åŠ è½½

sentence = Sentence(title) # å¯¹è¯·æ±‚åšæ•°æ®é¢„å¤„ç†
classifier.predict(sentence) # è°ƒç”¨æ¨¡å‹ï¼Œåšé¢„æµ‹ï¼Œè¿”å›å¸¦æ ‡ç­¾çš„æ•°æ®
</code></pre>

<h2 id="æ•ˆæœå±•ç¤º">æ•ˆæœå±•ç¤º</h2>

<p>æœ¬æ•™ç¨‹é’ˆå¯¹æ–‡æœ¬åˆ†ç±»è¿™ä¸ªåœºæ™¯ï¼Œæ„å»ºäº†ä¸€å¥—å‰åç«¯åˆ†ç¦»çš„â€œå®Œæ•´â€æ¡†æ¶ï¼Œèƒ½å¤Ÿç»™åˆ°ä¸€ä¸ªæœ€ç›´è§‚çš„æ„Ÿå—ã€‚å½“ç„¶ï¼Œè¿™é‡Œè¿˜æœ‰å¾ˆå¤šä¼˜åŒ–ç©ºé—´ï¼Œè¿˜æœ‰åç»­éƒ¨ç½²ç­‰äº‹å®œæ²¡æœ‰è¯¦ç»†å±•å¼€ï¼Œæœ‰å¿ƒçš„åŒå­¦å¯ä»¥è‡ªè¡Œæ£€ç´¢å­¦ä¹ ã€‚é€šè¿‡è¿™å¥—æµç¨‹ï¼Œå¯ä»¥åœ¨æµ‹è¯•æœæ­å»ºä¸€å¥—å®ç”¨ä¸»ä¹‰å“²å­¦çš„ç®—æ³•æ¨¡å‹ã€‚ç»™åˆ°é¢†å¯¼åšå±•ç¤ºæˆ–æ˜¯å…¬å¸å†…éƒ¨ä½¿ç”¨ï¼Œå·²ç»è¶³å¤Ÿã€‚é¡¹ç›®åœ°å€ <a href="https://github.com/kuhung/flask_vue_ML" rel="nofollow noreferrer" target="_blank">kuhung/flask_vue_ML</a></p>

<h3 id="ç»ˆç«¯ç«¯ç½‘ç«™è®¿é—®">ç»ˆç«¯ç«¯ç½‘ç«™è®¿é—®</h3>

<p><figure><img src="/images/ring.svg" data-sizes="auto" data-src="/images/flask_vue_ML/flask_vue_ml.jpg" alt="" class="lazyload"><figcaption class="image-caption"></figcaption></figure></p>

<p>å–œæ¬¢æˆ‘çš„æœ‹å‹ï¼Œåˆ«å¿˜äº†ç‚¹èµ ğŸ‘ã€å–œæ¬¢ â¤ +å…³æ³¨ ğŸ””å“¦ï¼Œä½ çš„é¼“åŠ±æ˜¯å¯¹æˆ‘æœ€å¤§çš„æ”¯æŒ~ğŸ’ª</p>

    </div>

    <div class="post-copyright">
            
            <p class="copyright-item">
                <span>Author:</span>
                <span>è°·ç²’ </span>
                </p>
            

            
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://kuhungio.me/2019/flask_vue_ml/>
                        <script>
                            document.write(decodeURI(location.origin + location.pathname))
                        </script>
                    </a>
            </p>
            
            
            <p class="copyright-item lincese">
                æœ¬æ–‡é‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯
            </p>
            
    </div>


    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s):
            
            <span class="tag"><a href="https://kuhungio.me/tags/%E5%85%A8%E6%A0%88/">
                    #å…¨æ ˆ</a></span>
            
            <span class="tag"><a href="https://kuhungio.me/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E8%BF%9B%E9%98%B6/">
                    #æœºå™¨å­¦ä¹ è¿›é˜¶</a></span>
            
            <span class="tag"><a href="https://kuhungio.me/tags/app/">
                    #app</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> Â·
                <span><a href="https://kuhungio.me">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://kuhungio.me/2019/vgc-it/" class="prev" rel="prev" title="å¦‚ä½•è®¾è®¡ä¸€å¥—ç±»ä¼¼è§†è§‰ä¸­å›½â€œé¹°çœ¼â€çš„æŠ€æœ¯"><i class="iconfont icon-left"></i>&nbsp;å¦‚ä½•è®¾è®¡ä¸€å¥—ç±»ä¼¼è§†è§‰ä¸­å›½â€œé¹°çœ¼â€çš„æŠ€æœ¯</a>
        
        
        <a href="https://kuhungio.me/2019/training_rl_systems_hacks/" class="next" rel="next" title="æ·±åº¦å¼ºåŒ–å­¦ä¹ æŠ€å·§ hacks for training deep RL">æ·±åº¦å¼ºåŒ–å­¦ä¹ æŠ€å·§ hacks for training deep RL&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>
</article>
          
<div class="post-comment"><div onclick="showDisqus();" id="disqus_title" class="disqus_title">æ˜¾ç¤º Disqus è¯„è®º</div><div id="gitalk-container" class="gitalk-container"></div>
    <link rel="stylesheet" href="/lib/gitalk/gitalk-1.2.2.min.css">
    <script src="/lib/gitalk/gitalk-1.2.2.min.js"></script>
    <script type="text/javascript">
      var gitalk = new Gitalk({
        id: '59f6ded98949c0c4daaf298b11f49288',
        title: 'æœºå™¨å­¦ä¹ å»ºæ¨¡ä¸éƒ¨ç½²--ä»¥åƒåœ¾æ¶ˆæ¯è¯†åˆ«ä¸ºä¾‹',
        clientID: '7e5b8bd7063e5315e349',
        clientSecret: 'd6bd237e0a078b7e343775a47533d7b95d364899',
        repo: 'kuhung.github.io',
        owner: 'kuhung',
        admin: ['kuhung'],
        body: decodeURI(location.href)
      });
      gitalk.render('gitalk-container');
    </script>
    <noscript>Please enable JavaScript to view the
      <a href="https://github.com/gitalk/gitalk">comments powered by gitalk.</a>
    </noscript><div id="disqus_thread"></div>
    <script type="text/javascript">
    function showDisqus() {
      

      
      
      
      

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = false;
      var disqus_shortname = 'kuhungio';
      dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);

      window.location.hash = "#disqus_thread";
    }
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>

          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2016 - 2020</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i>
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://kuhungio.me">è°·ç²’</a> | </span>
         

         
        <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span>
        
    </div>
</footer>












    
     <link href="//lib.baomitu.com/lightgallery/1.6.11/css/lightgallery.min.css" rel="stylesheet">  
      
     <script src="/js/vendor_gallery.min.js" async="" ></script>
    
  



     </div>
  </body>
</html>
